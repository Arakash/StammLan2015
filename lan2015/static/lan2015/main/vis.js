// Generated by CoffeeScript 1.9.0
(function() {
  var BAR_SPACING, Vis;

  if (window.stammlan == null) {
    window.stammlan = {};
  }

  BAR_SPACING = 2;

  window.stammlan.Vis = Vis = (function() {
    Vis.prototype.canvas = null;

    function Vis(canvas) {
      this.canvas = canvas;
    }

    Vis.prototype.update = function(bars) {
      var barHeight, barWidth, cx, grey, height, i, width, x, y, _i, _ref, _results;
      cx = this.canvas.getContext("2d");
      cx.scale(1.0, 1.0);
      width = this.canvas.offsetWidth;
      height = this.canvas.offsetHeight;
      barWidth = (width / bars.length) - BAR_SPACING;
      cx.fillStyle = "rgba(200,200,200,1)";
      cx.clearRect(0, 0, width, height);
      cx.fillStyle = "#000000";
      cx.strokeStyle = "#000000";
      _results = [];
      for (i = _i = 0, _ref = bars.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        grey = 20 + (120 * (i / bars.length));
        barHeight = height * 0.625 * (bars[i] / 40.0);
        x = (barWidth + BAR_SPACING) * i;
        y = (height * 0.625) - barHeight;
        cx.beginPath();
        cx.moveTo(x, y + barHeight);
        cx.lineTo(x + barWidth, y + barHeight);
        cx.stroke();
        cx.fillStyle = "rgb(" + grey + "," + grey + "," + grey + ")";
        cx.fillRect(x, y, barWidth, barHeight);
        cx.globalAlpha = 0.5;
        cx.fillRect(x, (height * 0.625) - 1, barWidth, barHeight * 0.625);
        _results.push(cx.globalAlpha = 1.0);
      }
      return _results;
    };

    return Vis;

  })();

}).call(this);
